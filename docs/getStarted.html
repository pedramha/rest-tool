<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Get Help to the rest-tool.">
    <meta name="author" content="Tamás Benke">
    <meta name="Keywords" content="rest, restful, utility, tools, rest-tool, node.js, api, development" />
    <link rel="shortcut icon" href="../../assets/ico/favicon.ico">

    <title>rest-tool</title>

    <!-- Bootstrap core CSS -->
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="jumbotron-narrow.css" rel="stylesheet">

    <!-- Just for debugging purposes. Don't actually copy this line! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="container">
      <div class="header">
        <ul class="nav nav-pills pull-right">
          <li><a href="../index.html">Home</a></li>
          <li><a href="about.html">About</a></li>
          <li><a href="getStarted.html">Get Started</a></li>
          <li><a href="changelog.html">Blog</a></li>
          <li><a href="documentation.html">Documentation</a></li>
          <li><a href="http://tombenke.github.io/rest-tool-cookbook/">Examples</a></li>
          <li><a href="getHelp.html">Get Help</a></li>
        </ul>
        <h3 class="text-muted">rest-tool</h3>
      </div>

      <div class="row marketing">
        <div class="col-lg-12">
          <h1 id="get-started">Get Started</h1>
<h2 id="installation">Installation</h2>
<h3 id="prerequisites-">Prerequisites:</h3>
<p><code>rest-tool</code> needs <a href="http://nodejs.org/">Node.js</a> and <a href="https://npmjs.org/">NPM</a> installed on the machine, before start installing and using it.</p>
<p>If you want to change the stylesheets of the generated documentation of the API, you will need <a href="http://sass-lang.com/">Sass</a> and <a href="http://compass-style.org/">Compass</a>.</p>
<h3 id="installation-steps">Installation steps</h3>
<p>The <code>rest-tool</code> tool can be installed as any other node module, but you have to install to the global node_modules folder, so use the <code>-g</code> switch to <code>npm</code>.</p>
<p>To install <code>rest-tool</code>, execute the following command:</p>
<pre><code>$ npm install -g rest-tool
</code></pre><p>To check, whether rest-tool is installed successfully, run the following command:</p>
<pre><code>$ rest-tool -V
0.4.5
</code></pre><h2 id="usage-of-the-rest-tool-utility">Usage of the <code>rest-tool</code> utility</h2>
<p>To get help, use the <code>-h</code> option:</p>
<p>rest-tool -h</p>
<p>  Usage: rest-tool [options] [command]</p>
<p>  Commands:</p>
<pre><code>create [options] &lt;project-name&gt; Create a new REST API project
docs [options]         Documentation management
add [options]          Add new service to the project
add-bulk [options]     Add new services to the project in bulk mode
test [options]         Test cases management
</code></pre><p>  Options:</p>
<pre><code>-h, --help     output usage information
-V, --version  output the version number
</code></pre><p>You can do the following things with <code>rest-tool</code>:</p>
<ul>
<li>Create a new REST API project (<code>rest-tool create</code>).</li>
<li>Create services for the API (<code>rest-tool add</code>, <code>rest-tool add-bulk</code>).</li>
<li>Generate/Update the HTML format documentation (<code>rest-tool doc --update</code>)</li>
<li>Generate/Update the test cases (<code>rest-tool test --update</code>)</li>
<li>Use the mock Node.js server for testing, and simulating of the REST API functionality (<code>node server/server.js</code>).</li>
</ul>
<p>You can get help to any of the commands using the following schema:</p>
<pre><code>$ rest-tool &lt;command&gt; -h
</code></pre><p>for example:</p>
<pre><code>$ rest-tool docs -h

  Usage: docs [options]

  Options:

    -h, --help                     output usage information
    -u, --update                   Generate the HTML format documentation
    -c, --config &lt;configFileName&gt;  The name of the configuration file (default: config.yml)
    -v, --verbose                  Verbose mode
</code></pre><p>The following sections describe the usage of the commands in details.</p>
<h2 id="create-your-first-rest-api-project">Create your first REST API project</h2>
<p>Create the project:</p>
<h3 id="generate-a-new-rest-api-project-">Generate a new REST API project:</h3>
<pre><code>$ rest-tool create &lt;project-name&gt;
</code></pre><p>for example:</p>
<pre><code>$ rest-tool create crm-api
</code></pre><h3 id="install-the-required-node-modules-for-the-project">Install the required node modules for the project</h3>
<p>After, you have created the new project, move into the new projects folder,
and install those node modules, the new project needs:</p>
<pre><code>$ cd crm-api
$ npm install
</code></pre><h3 id="start-the-mock-server">Start the mock server</h3>
<p>Start the mock server from the console:</p>
<pre><code>$ node server/server.js 
</code></pre><p>The server starts and should write something like this:</p>
<pre><code>{ documentRoot: &#39;../webui&#39;,
  port: 3007,
  restapiRoot: &#39;..&#39;,
  useRemoteServices: false,
  environment: &#39;development&#39; }
restapi config: { projectName: &#39;crm-api&#39;,
  apiVersion: &#39;v0.0.0&#39;,
  author: &#39;TBD.&#39;,
  licence: &#39;TBD.&#39;,
  serviceUrlPrefix: &#39;/rest&#39;,
  servicePort: 3007,
  baseUrl: &#39;http://localhost:3007/rest&#39;,
  servicesRoot: &#39;services&#39;,
  services: [ &#39;/monitoring/isAlive&#39; ],
  loginCredentials: { user: &#39;username&#39;, pass: &#39;password&#39; } }
register service GET /monitoring/isAlive
/monitoring/isAlive
Express server listening on port 3007 in development mode
</code></pre><p>As you can see, the server is running, and listening on 3007 port.
It uses a base URL that is: <code>http://localhost:3007/rest</code> and 
the <code>/monitoring/isAlive</code> service is already registered.
It is a predefined service which can be used as an example for defining new services
as well as it provides a service that immediately should work, and makes easier the troubleshooting if something is wrong with the creation of the project.</p>
<p>You can see its descriptor under the <code>services</code> folder:</p>
<pre><code>services/
└── monitoring
    └── isAlive
        └── service.yml
</code></pre><p>Try to call this service with a browser or a command line utility, and you should get 
a <code>true</code> value as a response:</p>
<pre><code>$ curl http://localhost:3007/rest/monitoring/isAlive
true
</code></pre><h3 id="run-the-tests-to-check-if-the-server-is-working-properly">Run the tests to check if the server is working properly</h3>
<p>Open a new terminal, then go into the newly created &#39;crm-api&#39; project folder,
and generate the test cases using the &#39;rest-tool&#39;:</p>
<pre><code>$ rest-tool test --update
Update test cases or create them, if they are missing.
Existing files will not be overwritten
</code></pre><p>A new test case should be generated under the &#39;test&#39; folder, based on the
&#39;templates/test/testDelMethod.mustache&#39; template.</p>
<p>Check whether a test case is really there:</p>
<pre><code>$ tree test/
test/
└── Get Monitoring Is Alive.js

0 directories, 1 file
</code></pre><p>Run the test case to make sure, it is working:</p>
<pre><code>$ mocha

  .

  ✔ 1 tests complete (24ms)
</code></pre><p>You can also do it via make:</p>
<pre><code>$ make test


  Successfully checks if server is alive
    ✓ should Successfully checks if server is alive 


  1 passing (22ms)
</code></pre><h3 id="generate-the-html-format-documentation">Generate the HTML format documentation</h3>
<p>Generate the documentation for the predefined service with the following command:</p>
<pre><code>$ rest-tool docs --update
</code></pre><p>The following files will be generated:</p>
<pre><code>$ tree docs
docs
├── images
│   └── grid.png
├── index.html
├── js
│   ├── jquery-1.9.0
│   │   ├── jquery-1.9.0.js
│   │   └── jquery-1.9.0.min.js
│   └── restapidoc.js
├── README.md
├── sass
│   ├── ie.scss
│   ├── partials
│   │   └── _base.scss
│   ├── print.scss
│   └── screen.scss
├── services
│   └── monitoring
│       └── isAlive
│           ├── service.html
│           └── service.yml
└── stylesheets
    ├── ie.css
    ├── print.css
    └── screen.css

9 directories, 15 files
</code></pre><p>Now you can view the generated documentation with a browser either as a static content 
opening the <code>docs/index.html</code> or through the server using the <code>http://localhost:3007/docs/</code> URL.</p>
<h3 id="create-your-first-service">Create your first service</h3>
<p>Create a collection manager service with the following command:</p>
<pre><code>$ rest-tool add -t COLLECTION \
    -p customers \
    -u /customers \
    -n Customers \
    -d &quot;A service to manage the collection of customers&quot;
</code></pre><p>And check what is created under the services folder:</p>
<pre><code>$ tree services/
services/
├── customers
│   ├── getCollection-responseBody.json
│   ├── postCollection-requestBody.json
│   ├── postCollection-responseBody.json
│   └── service.yml
└── monitoring
    └── isAlive
        └── service.yml

3 directories, 5 files
</code></pre><p>Add the newly created server to the <code>services</code> list in the <code>config.yml</code> file:</p>
<pre><code>projectName: crm-api
apiVersion: v0.0.0
author: TBD.
licence: TBD.
serviceUrlPrefix: /rest
servicePort: 3007
baseUrl: http://localhost:3007/rest
servicesRoot: services
services:
    - /monitoring/isAlive
    - /customers # Add this entry!!!
    # To add new services,put here the path of
    # the directory that contains the service.yml

loginCredentials:
    user: username
    pass: password
</code></pre><p>Then you should <strong>restart the server</strong>, and the service is working with the predefined settings and mock data:</p>
<pre><code>$ curl http://localhost:3007/rest/customers
[
  {
    &quot;id&quot;: 1,
    &quot;data&quot;: &quot;some mock data&quot;
  },
  {
    &quot;id&quot;: 2,
    &quot;data&quot;: &quot;some mock data&quot;
  }
]
</code></pre><p>In order to learn more about creating and configuring services,
read the <a href="documentation.html">documentation</a> pages.</p>

        </div>
      </div>

      <div class="footer">
        <p class="copyright">rest-tool is maintained by <a href="https://github.com/tombenke">tombenke</a><br>
        Theme borrowed from <a href="http://getbootstrap.com/examples/jumbotron-narrow/">Bootstrap</a></p>
      </div>

    </div> <!-- /container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
  </body>
</html>